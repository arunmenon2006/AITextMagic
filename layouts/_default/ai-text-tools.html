{{ define "title" }}AI Text Tools - {{ .Site.Title }}{{ end }}
{{ define "description" }}Free AI-powered summarization, paraphrasing, and sentiment analysis tools running locally in your browser.{{ end }}

{{ define "head" }}
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.13.0/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/toxicity"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/qna"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/universal-sentence-encoder"></script>
{{ end }}

{{ define "main" }}
<div class="container mx-auto py-10">
    <h1 class="text-3xl font-bold text-center mb-8">AI Text Tools</h1>

    <!-- Tab Navigation -->
    <div class="flex justify-center space-x-4 mb-6">
        <button class="tab-btn px-4 py-2 bg-blue-500 text-white rounded" data-tab="summarizer">Summarizer</button>
        <button class="tab-btn px-4 py-2 bg-gray-200 rounded" data-tab="paraphraser">Paraphraser</button>
        <button class="tab-btn px-4 py-2 bg-gray-200 rounded" data-tab="sentiment">Sentiment</button>
    </div>

    <!-- Tab Contents -->
    <div id="summarizer" class="tab-content">
        <textarea id="sumInput" class="w-full p-3 border rounded mb-3" rows="6" placeholder="Enter text to summarize"></textarea>
        <select id="sumLevel" class="mb-3 p-2 border rounded">
            <option value="short">Short (2-3 sentences)</option>
            <option value="medium">Medium (4-6 sentences)</option>
            <option value="detailed">Detailed (6-8 sentences)</option>
        </select>
        <button onclick="summarizeText()" class="px-4 py-2 bg-green-500 text-white rounded">Summarize</button>
        <div id="sumResult" class="mt-4 p-4 bg-gray-100 rounded"></div>
    </div>

    <div id="paraphraser" class="tab-content hidden">
        <textarea id="paraInput" class="w-full p-3 border rounded mb-3" rows="6" placeholder="Enter text to paraphrase"></textarea>
        <select id="paraLevel" class="mb-3 p-2 border rounded">
            <option value="light">Light</option>
            <option value="medium">Medium</option>
            <option value="heavy">Heavy</option>
        </select>
        <button onclick="paraphraseText()" class="px-4 py-2 bg-green-500 text-white rounded">Paraphrase</button>
        <div id="paraResult" class="mt-4 p-4 bg-gray-100 rounded"></div>
    </div>

    <div id="sentiment" class="tab-content hidden">
        <textarea id="sentInput" class="w-full p-3 border rounded mb-3" rows="6" placeholder="Enter text to analyze sentiment"></textarea>
        <button onclick="analyzeSentiment()" class="px-4 py-2 bg-green-500 text-white rounded">Analyze</button>
        <div id="sentResult" class="mt-4 p-4 bg-gray-100 rounded"></div>
    </div>
</div>

<script>
// Tab switching
document.querySelectorAll('.tab-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('bg-blue-500', 'text-white'));
        btn.classList.add('bg-blue-500', 'text-white');
        document.querySelectorAll('.tab-content').forEach(tc => tc.classList.add('hidden'));
        document.getElementById(btn.dataset.tab).classList.remove('hidden');
    });
});

// AI Functions (Basic Demo Logic)
async function summarizeText() {
    const text = document.getElementById("sumInput").value;
    const level = document.getElementById("sumLevel").value;
    document.getElementById("sumResult").innerText = `Summarized (${level}) version of: ${text}`;
}

async function paraphraseText() {
    const text = document.getElementById("paraInput").value;
    const level = document.getElementById("paraLevel").value;
    document.getElementById("paraResult").innerText = `Paraphrased (${level}) version of: ${text}`;
}

async function analyzeSentiment() {
    const text = document.getElementById("sentInput").value;
    const model = await toxicity.load(0.9);
    const predictions = await model.classify([text]);
    document.getElementById("sentResult").innerText = JSON.stringify(predictions, null, 2);
}
</script>
{{ end }}
